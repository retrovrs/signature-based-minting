(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(75852)}])},75852:function(e,n,t){"use strict";function r(e,n,t,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void t(s)}l.done?n(c):Promise.resolve(c).then(r,i)}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(n),t.d(n,{default:function(){return h}});var a=t(20414),l=t(85893),c=t(32824),s=t.n(c),u=t(98272),d=t(6177),m=t(67294),_=t(34155),h=function(){var e=(0,u.SF)(),n=(0,u.U6)(),t=(0,u.qL)(),i=(0,u.mx)(),c=(0,u.DU)(),h=o((0,u.LN)(),2)[1],f=(0,u.Ci)(_.env.NEXT_PUBLIC_NFT_COLLECTION_ADDRESS),p=(0,m.useState)(""),g=p[0],v=p[1],x=(0,m.useState)(),j=x[0],y=x[1],N=(0,u.a1)(f),w=N.data,H=N.isLoading,C=(0,m.useRef)(null),b=function(){var t,o=(t=function(){var t,r,o,l,s,u,m;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(!e)return n(),[2];if(c)return h&&h(d.a_e.Mumbai),[2];a.label=1;case 1:return a.trys.push([1,6,,7]),j&&g?e&&i?[4,new d.x9T(i).storage.upload(j)]:(alert("Please connect to your wallet."),[2]):(alert("Please enter a name and upload a file."),[2]);case 2:return t=a.sent(),r="".concat(t.uris[0]),[4,fetch("/api/server",{method:"POST",body:JSON.stringify({authorAddress:e,nftName:g,imagePath:r})})];case 3:return o=a.sent(),console.log("Received Signed payload",o),[4,o.json()];case 4:return l=a.sent(),console.log("Json:",l),o.ok?(s=l.signedPayload,[4,null===f||void 0===f?void 0:f.signature.mint(s)]):(alert(l.error),[2]);case 5:return u=a.sent(),console.log("Successfully minted NFT with signature",u),alert("Successfully minted NFT with signature"),[2,u];case 6:return m=a.sent(),console.error("An error occurred trying to mint the NFT:",m),[3,7];case 7:return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function l(e){r(a,i,o,l,c,"next",e)}function c(e){r(a,i,o,l,c,"throw",e)}l(void 0)}))});return function(){return o.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:s().header,children:[(0,l.jsx)("div",{className:s().left,children:(0,l.jsx)("div",{children:(0,l.jsx)("a",{href:"https://thirdweb.com/",target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)("img",{src:"/logo.png",alt:"Thirdweb Logo",width:135})})})}),(0,l.jsx)("div",{className:s().right,children:e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("a",{className:s().secondaryButton,onClick:function(){return t()},children:"Disconnect Wallet"}),(0,l.jsx)("p",{style:{marginLeft:8,marginRight:8,color:"grey"},children:"|"}),(0,l.jsx)("p",{children:e.slice(0,6).concat("...").concat(e.slice(-4))})]}):(0,l.jsx)("a",{className:s().mainButton,onClick:function(){return n()},children:"Connect Wallet"})})]}),(0,l.jsxs)("div",{className:s().container,children:[(0,l.jsxs)("div",{className:s().collectionContainer,children:[(0,l.jsx)("h2",{className:s().ourCollection,children:"Mint your own NFT into the collection:"}),(0,l.jsx)("input",{type:"text",placeholder:"Name of your NFT",className:s().textInput,maxLength:26,onChange:function(e){return v(e.target.value)}}),j?(0,l.jsx)("img",{src:URL.createObjectURL(j),style:{cursor:"pointer",maxHeight:250,borderRadius:8},onClick:function(){return y(void 0)}}):(0,l.jsx)("div",{className:s().imageInput,onClick:function(){(null===C||void 0===C?void 0:C.current)&&(C.current.click(),C.current.onchange=function(){var e,n;if(null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.files)||void 0===n?void 0:n.length){var t=C.current.files[0];y(t)}})},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),y(e.dataTransfer.files[0])},children:"Drag and drop an image here to upload it!"})]}),(0,l.jsx)("input",{type:"file",accept:"image/png, image/gif, image/jpeg",id:"profile-picture-input",ref:C,style:{display:"none"}}),(0,l.jsx)("div",{style:{marginTop:24},children:e?(0,l.jsx)("a",{className:s().mainButton,onClick:b,children:"Mint NFT"}):(0,l.jsx)("a",{className:s().mainButton,onClick:n,children:"Connect Wallet"})}),(0,l.jsx)("hr",{className:s().smallDivider}),(0,l.jsxs)("div",{className:s().collectionContainer,children:[(0,l.jsx)("h2",{className:s().ourCollection,children:"Other NFTs in this collection:"}),H?(0,l.jsx)("p",{children:"Loading..."}):(0,l.jsx)("div",{className:s().nftGrid,children:null===w||void 0===w?void 0:w.map((function(e){return(0,l.jsxs)("div",{className:s().nftItem,children:[(0,l.jsx)("div",{children:(0,l.jsx)(u.CH,{metadata:e.metadata,style:{height:90,borderRadius:16}})}),(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("p",{children:"Named"}),(0,l.jsx)("p",{children:(0,l.jsx)("b",{children:e.metadata.name})})]}),(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("p",{children:"Owned by"}),(0,l.jsx)("p",{children:(0,l.jsx)("b",{children:e.owner.slice(0,6).concat("...").concat(e.owner.slice(-4))})})]})]},e.metadata.id.toString())}))})]})]})]})}},32824:function(e){e.exports={connect:"Home_connect__TwpE2",btn:"Home_btn__2f8K8",address:"Home_address__NRImQ",container:"Home_container__vxf_Q",page:"Home_page__tk5Bm",pageContainer:"Home_pageContainer__MNeBj",arrowButton:"Home_arrowButton__5IYdW",owner:"Home_owner__xDaR9",btnContainer:"Home_btnContainer__v_mZ1",header:"Home_header__34qQ8",left:"Home_left__4IUuI",right:"Home_right__uzjSo",secondaryButton:"Home_secondaryButton__eEjLq",mainButton:"Home_mainButton__AqHdw",ourCollection:"Home_ourCollection__vAhup",collectionContainer:"Home_collectionContainer__Mzxkf",nftGrid:"Home_nftGrid__7c2wy",nftItem:"Home_nftItem__RgrBK",h1:"Home_h1__gVClU",explain:"Home_explain__HSATH",purple:"Home_purple__y0jM7",divider:"Home_divider__HwMFk",smallDivider:"Home_smallDivider__uUkm1",textInput:"Home_textInput__KvFK_",imageInput:"Home_imageInput__wG4ZE"}}},function(e){e.O(0,[774,888,179],(function(){return n=48312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);